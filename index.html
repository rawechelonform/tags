<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>TAG THE WALL</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=DotGothic16&display=swap" rel="stylesheet">
  <link rel="icon" href="data:,">
  <style>
    :root{ --bg:#000; --crt:#00ff00; --crt-dim:rgba(0,255,0,.55); --crt-soft: rgba(0,255,0,.18);
           --fs:20px; --ls:.08em; --lh:1.3; --stage-offset:56px; --wrap-w:94vw; --max-w:1600px; --left-offset:1in;
           --sep-title:24px; --between-q:18px; --row-gap:12px; --caret-gap:1ch; --btn-w:240px; }
    *{ box-sizing:border-box } html,body{ height:100%; margin:0 }
    body{ background:var(--bg); color:var(--crt); font-family:'DotGothic16',system-ui,monospace;
          text-transform:uppercase; letter-spacing:var(--ls); font-size:var(--fs); line-height:calc(var(--lh)*1em); }
    .wrap{ width:var(--wrap-w); max-width:var(--max-w); margin:calc(var(--stage-offset)) auto 32px; padding:0 calc(12px + var(--left-offset)); }
    h1{ margin:0; font-weight:700; font-size:var(--fs); line-height:calc(var(--lh)*1em); }
    .spacer-title{ height: var(--sep-title); }
    .q{ margin-top: var(--between-q); }
    .line{ display:flex; align-items:baseline; gap:var(--caret-gap); margin-top:var(--row-gap); }
    .no-caret .caret{ display:none; }
    .typed{ min-height:calc(var(--lh)*1em); line-height:calc(var(--lh)*1em); white-space:pre-wrap; color:var(--crt); }
    .typed.ph{ color:var(--crt-dim); }
    .cursor-block{ display:inline-block; width:1.1ch; height:1em; background:var(--crt); color:#000;
                   transform: translateY(calc((var(--lh) - 1) * 0.5em)); animation: cursorBlink .8s steps(1,end) infinite; vertical-align:baseline; }
    @keyframes cursorBlink{0%,45%{background:var(--crt);color:#000}50%,100%{background:transparent;color:transparent}}
    .btn{ display:inline-block; width:var(--btn-w); padding:10px 14px; background:var(--bg); color:var(--crt);
          border:1px solid var(--crt); font:inherit; font-weight:700; text-align:center; cursor:pointer; user-select:none; white-space:nowrap;}
    .btn:hover,.btn:focus,.btn:active{ background: var(--crt-soft); box-shadow: 0 0 0 2px var(--crt-soft) inset; outline: none; }
    .btn:disabled{ opacity:.55; cursor:not-allowed; }
    input[type="file"]{ display:none }
    .file-status{ margin-left:12px; font-style:italic; color:var(--crt-dim); text-transform:none; white-space:nowrap; }
    .status{ display:inline-block; margin-left:14px; font-style:italic; white-space:nowrap; vertical-align:baseline; color:var(--crt); text-transform:none; }
    .banner{ margin-left:14px; font-style:italic; color:rgba(0,255,0,.9) } .banner.error{ color:#f66; text-transform:none }
    .hid-input{ position:absolute; left:-9999px; width:1px; height:1px; opacity:0; border:0; outline:none; background:transparent; color:transparent; caret-color:transparent; text-transform:lowercase; }
    .hp{ position:absolute; left:-9999px; top:-9999px; }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>TAG THE WALL <span id="banner" class="banner"></span></h1>
    <div class="spacer-title"></div>

    <!-- Hidden iframe target -->
    <iframe name="upload_iframe" style="display:none"></iframe>

    <!-- Native POST to Apps Script -->
    <form id="tags_form"
      action="https://script.google.com/macros/s/AKfycbxv3FKB0P30wixxKJUfYvTnCW9vzqgar4JV7PArIpirC9lk7Srpqe3SNDKIcCIvjs_4/exec"
      method="POST" enctype="multipart/form-data" target="upload_iframe" novalidate>

      <!-- UPLOAD -->
      <div class="q">UPLOAD IMAGE</div>
      <div class="line no-caret">
        <span class="caret">></span>
        <label for="sticker" class="btn">UPLOAD IMAGE</label>
        <input id="sticker" type="file" name="sticker" accept=".png,.jpg,.jpeg,.webp" required />
        <span id="fileStatus" class="file-status"></span>
      </div>

      <!-- PLACE OF TAG -->
      <div class="q">PLACE OF TAG</div>
      <div class="line" data-field="title" data-ph="'ZËRGË COFFEESHOP', 'BERLIN WALL', 'STRIPPER POLE'">
        <span class="caret">></span>
        <div class="typed" id="typed-title"></div>
        <input id="hid-title" class="hid-input" type="text" name="title" maxlength="30">
      </div>

      <!-- CITY -->
      <div class="q">CITY</div>
      <div class="line" data-field="city" data-ph="NEW YORK CITY">
        <span class="caret">></span>
        <div class="typed" id="typed-city"></div>
        <input id="hid-city" class="hid-input" type="text" name="city" maxlength="30">
      </div>

      <!-- COUNTRY -->
      <div class="q">COUNTRY</div>
      <div class="line" data-field="country" data-ph="USA">
        <span class="caret">></span>
        <div class="typed" id="typed-country"></div>
        <input id="hid-country" class="hid-input" type="text" name="country" maxlength="30">
      </div>

      <!-- Honeypot -->
      <input class="hp" type="text" name="websi
